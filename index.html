<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>App Estoque Cozinha</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</head>
<body class="bg-gray-100 min-h-screen">
    <div id="app">
        <!-- Tela de Login -->
        <div id="login-screen" class="min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-500 to-purple-600">
            <div class="bg-white p-8 rounded-xl shadow-2xl w-full max-w-md">
                <h1 class="text-3xl font-bold text-center text-gray-800 mb-8">Controle de Estoque</h1>
                
                <div id="login-form">
                    <div class="mb-4">
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-2">Email</label>
                        <input type="email" id="email" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    
                    <div class="mb-6">
                        <label for="password" class="block text-sm font-medium text-gray-700 mb-2">Senha</label>
                        <input type="password" id="password" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500" required>
                    </div>
                    
                    <button id="login-btn" class="w-full bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                        Entrar
                    </button>
                    
                    <button id="register-btn" class="w-full mt-3 bg-transparent hover:bg-blue-50 text-blue-600 font-semibold py-2 px-4 border border-blue-600 rounded-md transition duration-300">
                        Não tenho conta, quero me cadastrar
                    </button>
                </div>

                <!-- Indicador de carregamento -->
                <div id="loading-indicator" class="hidden text-center py-4">
                    <div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"></div>
                    <p class="mt-2 text-gray-600">Conectando...</p>
                </div>

                <!-- Status de conectividade -->
                <div id="connectivity-status" class="mt-4 text-center text-sm">
                    <span id="status-text" class="text-gray-500">Verificando conectividade...</span>
                </div>
            </div>
        </div>

        <!-- Tela Principal -->
        <div id="main-screen" class="hidden min-h-screen bg-gray-50">
            <nav class="bg-white shadow-lg">
                <div class="max-w-7xl mx-auto px-4">
                    <div class="flex justify-between items-center py-4">
                        <h1 class="text-2xl font-bold text-gray-800">Controle de Estoque</h1>
                        <div class="flex items-center space-x-4">
                            <span id="user-email" class="text-gray-600"></span>
                            <button id="logout-btn" class="bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md transition duration-300">
                                Sair
                            </button>
                        </div>
                    </div>
                </div>
            </nav>

            <div class="max-w-7xl mx-auto px-4 py-8">
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <!-- Seção de Adição de Produtos -->
                    <div class="bg-white p-6 rounded-xl shadow-lg">
                        <h2 class="text-lg font-semibold mb-4 text-gray-700">Adicionar Produto</h2>
                        <div class="space-y-4">
                            <input type="text" id="product-name" placeholder="Nome do produto" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <input type="number" id="product-quantity" placeholder="Quantidade" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                            <select id="product-supplier" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Selecione o fornecedor</option>
                                <option value="Assai Atacadista">Assai Atacadista</option>
                                <option value="Moscavo">Moscavo</option>
                                <option value="Io Brownie">Io Brownie</option>
                                <option value="Angelo forneria">Angelo forneria</option>
                            </select>
                            <select id="product-category" class="w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500">
                                <option value="">Selecione a categoria</option>
                                <option value="estoque">Estoque</option>
                                <option value="producao">Produção</option>
                            </select>
                            <button id="add-product-btn" class="w-full bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-md transition duration-300">
                                Adicionar Produto
                            </button>
                        </div>
                    </div>

                    <!-- Seção de Relatórios -->
                    <div class="space-y-6">
                        <div class="bg-white p-6 rounded-xl shadow-lg">
                            <h2 class="text-lg font-semibold mb-4 text-gray-700">Relatórios de Estoque</h2>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <button id="generate-stock-report-btn" class="flex-1 bg-gray-600 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">Relatório Geral de Estoque (PDF)</button>
                                <button id="generate-shopping-list-btn" class="flex-1 bg-orange-500 hover:bg-orange-600 text-white font-bold py-2 px-4 rounded">Gerar Lista de Compras</button>
                            </div>
                        </div>
                        <div class="bg-white p-6 rounded-xl shadow-lg">
                            <h2 class="text-lg font-semibold mb-4 text-gray-700">Relatórios de Produção</h2>
                            <div class="flex flex-col sm:flex-row gap-4">
                                <button id="generate-kitchen-report-btn" class="flex-1 bg-teal-600 hover:bg-teal-700 text-white font-bold py-2 px-4 rounded">Produção Cozinha (PDF)</button>
                                <button id="generate-parrilla-report-btn" class="flex-1 bg-red-700 hover:bg-red-800 text-white font-bold py-2 px-4 rounded">Produção Parrilla (PDF)</button>
                            </div>
                        </div>
                        <div id="report-display-area" class="bg-white p-6 rounded-xl shadow-lg hidden">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div id="message-container" class="fixed top-5 right-5 text-sm font-bold z-50"></div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        import { getFirestore, collection, doc, onSnapshot, addDoc, deleteDoc, query, updateDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // ===================================================================
        // 1. CONFIGURAÇÃO DO FIREBASE COM MELHORIAS DE CONECTIVIDADE
        // ===================================================================
        const firebaseConfig = {
            apiKey: "AIzaSyBJbyfICQFEfzL7EKbaH-08mQmZWOM8FhU",
            authDomain: "appestoquecozinha.firebaseapp.com",
            projectId: "appestoquecozinha",
            storageBucket: "appestoquecozinha.firebasestorage.app",
            messagingSenderId: "705934517110",
            appId: "1:705934517110:web:b4d5b79059feb7e6485057"
        };

        // ===================================================================
        // 2. FUNÇÕES DE CONECTIVIDADE E DIAGNÓSTICO
        // ===================================================================
        function checkConnectivity() {
            return new Promise((resolve) => {
                if (!navigator.onLine) {
                    resolve(false);
                    return;
                }
                
                // Teste de conectividade com Google DNS
                fetch('https://dns.google/resolve?name=google.com&type=A', {
                    method: 'GET',
                    mode: 'cors'
                })
                .then(() => resolve(true))
                .catch(() => {
                    // Fallback: teste com Firebase
                    fetch('https://firebase.googleapis.com/', {
                        method: 'HEAD',
                        mode: 'no-cors'
                    })
                    .then(() => resolve(true))
                    .catch(() => resolve(false));
                });
            });
        }

        function updateConnectivityStatus(isConnected) {
            const statusElement = document.getElementById('status-text');
            if (isConnected) {
                statusElement.textContent = 'Conectado ao Firebase';
                statusElement.className = 'text-green-600';
            } else {
                statusElement.textContent = 'Problemas de conectividade detectados';
                statusElement.className = 'text-red-600';
            }
        }

        // ===================================================================
        // 3. INICIALIZAÇÃO COM TRATAMENTO DE ERROS MELHORADO
        // ===================================================================
        let app, auth, db;
        
        async function initializeFirebase() {
            try {
                // Verificar conectividade primeiro
                const isConnected = await checkConnectivity();
                updateConnectivityStatus(isConnected);
                
                if (!isConnected) {
                    throw new Error('Sem conectividade com a internet');
                }

                app = initializeApp(firebaseConfig);
                auth = getAuth(app);
                db = getFirestore(app);
                
                // Configurar timeout para operações de autenticação
                auth.settings = {
                    appVerificationDisabledForTesting: false
                };
                
                console.log('Firebase inicializado com sucesso');
                return true;
            } catch (error) {
                console.error('Erro ao inicializar Firebase:', error);
                showMessage('Erro de conectividade. Verifique sua conexão com a internet.', 'error');
                return false;
            }
        }

        // ===================================================================
        // 4. FUNÇÕES DE AUTENTICAÇÃO COM RETRY E MELHOR TRATAMENTO DE ERROS
        // ===================================================================
        async function retryOperation(operation, maxRetries = 3, delay = 1000) {
            for (let i = 0; i < maxRetries; i++) {
                try {
                    return await operation();
                } catch (error) {
                    console.log(`Tentativa ${i + 1} falhou:`, error.message);
                    
                    if (i === maxRetries - 1) {
                        throw error;
                    }
                    
                    // Verificar conectividade antes de tentar novamente
                    const isConnected = await checkConnectivity();
                    if (!isConnected) {
                        throw new Error('Sem conectividade com a internet');
                    }
                    
                    await new Promise(resolve => setTimeout(resolve, delay * (i + 1)));
                }
            }
        }

        function getErrorMessage(errorCode) {
            const errorMessages = {
                'auth/network-request-failed': 'Erro de conectividade. Verifique sua conexão com a internet e tente novamente.',
                'auth/timeout': 'Timeout na conexão. Tente novamente.',
                'auth/user-not-found': 'Usuário não encontrado.',
                'auth/wrong-password': 'Senha incorreta.',
                'auth/email-already-in-use': 'Este email já está em uso.',
                'auth/weak-password': 'A senha deve ter pelo menos 6 caracteres.',
                'auth/invalid-email': 'Email inválido.',
                'auth/too-many-requests': 'Muitas tentativas. Tente novamente mais tarde.',
                'default': 'Erro inesperado. Tente novamente.'
            };
            
            return errorMessages[errorCode] || errorMessages['default'];
        }

        async function handleLogin() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                showMessage('Por favor, preencha todos os campos.', 'error');
                return;
            }

            showLoading(true);
            
            try {
                await retryOperation(async () => {
                    return await signInWithEmailAndPassword(auth, email, password);
                });
                
                showMessage('Login realizado com sucesso!', 'success');
            } catch (error) {
                console.error('Erro no login:', error);
                const message = getErrorMessage(error.code);
                showMessage(message, 'error');
            } finally {
                showLoading(false);
            }
        }

        async function handleRegister() {
            const email = document.getElementById('email').value.trim();
            const password = document.getElementById('password').value;
            
            if (!email || !password) {
                showMessage('Por favor, preencha todos os campos.', 'error');
                return;
            }

            if (password.length < 6) {
                showMessage('A senha deve ter pelo menos 6 caracteres.', 'error');
                return;
            }

            showLoading(true);
            
            try {
                await retryOperation(async () => {
                    return await createUserWithEmailAndPassword(auth, email, password);
                });
                
                showMessage('Conta criada com sucesso!', 'success');
            } catch (error) {
                console.error('Erro no registro:', error);
                const message = getErrorMessage(error.code);
                showMessage(message, 'error');
            } finally {
                showLoading(false);
            }
        }

        function showLoading(show) {
            const loginForm = document.getElementById('login-form');
            const loadingIndicator = document.getElementById('loading-indicator');
            
            if (show) {
                loginForm.classList.add('hidden');
                loadingIndicator.classList.remove('hidden');
            } else {
                loginForm.classList.remove('hidden');
                loadingIndicator.classList.add('hidden');
            }
        }

        // ===================================================================
        // 5. ESTADO DA APLICAÇÃO E GERENCIAMENTO DE DADOS
        // ===================================================================
        let appState = {
            stockItems: [],
            productionItems: [],
            user: null
        };

        // ===================================================================
        // 6. FUNÇÕES DE INTERFACE E MENSAGENS
        // ===================================================================
        function showMessage(message, type = 'info') {
            const container = document.getElementById('message-container');
            const messageDiv = document.createElement('div');
            
            const bgColor = type === 'success' ? 'bg-green-500' : 
                           type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            
            messageDiv.className = `${bgColor} text-white px-4 py-2 rounded-md mb-2 shadow-lg`;
            messageDiv.textContent = message;
            
            container.appendChild(messageDiv);
            
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 5000);
        }

        function showScreen(screenId) {
            document.getElementById('login-screen').classList.add('hidden');
            document.getElementById('main-screen').classList.add('hidden');
            document.getElementById(screenId).classList.remove('hidden');
        }

        // ===================================================================
        // 7. FUNÇÕES DE PRODUTOS E ESTOQUE
        // ===================================================================
        async function addProduct() {
            const name = document.getElementById('product-name').value.trim();
            const quantity = parseInt(document.getElementById('product-quantity').value);
            const supplier = document.getElementById('product-supplier').value;
            const category = document.getElementById('product-category').value;
            
            if (!name || !quantity || !supplier || !category) {
                showMessage('Por favor, preencha todos os campos.', 'error');
                return;
            }

            try {
                const collectionName = category === 'estoque' ? 'stockItems' : 'productionItems';
                await addDoc(collection(db, collectionName), {
                    name: name,
                    quantity: quantity,
                    supplier: supplier,
                    createdAt: new Date()
                });
                
                // Limpar campos
                document.getElementById('product-name').value = '';
                document.getElementById('product-quantity').value = '';
                document.getElementById('product-supplier').value = '';
                document.getElementById('product-category').value = '';
                
                showMessage('Produto adicionado com sucesso!', 'success');
            } catch (error) {
                console.error('Erro ao adicionar produto:', error);
                showMessage('Erro ao adicionar produto. Tente novamente.', 'error');
            }
        }

        // ===================================================================
        // 8. FUNÇÕES DE GERAÇÃO DE PDF MELHORADAS
        // ===================================================================
        function generateStockReport() {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                doc.setFontSize(18);
                doc.text('Relatório Geral de Estoque', 20, 20);
                doc.setFontSize(12);
                doc.text(`Data: ${new Date().toLocaleDateString('pt-BR')}`, 20, 30);
                
                let yPosition = 50;
                
                appState.stockItems.forEach((item, index) => {
                    if (yPosition > 270) {
                        doc.addPage();
                        yPosition = 20;
                    }
                    
                    doc.text(`${index + 1}. ${item.name}`, 20, yPosition);
                    doc.text(`Quantidade: ${item.quantity}`, 30, yPosition + 10);
                    doc.text(`Fornecedor: ${item.supplier}`, 30, yPosition + 20);
                    yPosition += 35;
                });
                
                doc.save('relatorio_estoque.pdf');
                showMessage('Relatório de estoque gerado com sucesso!', 'success');
            } catch (error) {
                console.error('Erro ao gerar relatório:', error);
                showMessage('Erro ao gerar relatório. Tente novamente.', 'error');
            }
        }

        function generateShoppingList() {
            const reportArea = document.getElementById('report-display-area');
            reportArea.classList.remove('hidden');
            
            // Agrupar itens por fornecedor
            const itemsBySupplier = {};
            appState.stockItems.forEach(item => {
                if (!itemsBySupplier[item.supplier]) {
                    itemsBySupplier[item.supplier] = [];
                }
                itemsBySupplier[item.supplier].push(item);
            });
            
            let html = '<h2 class="text-xl font-bold mb-4">Lista de Compras</h2>';
            
            Object.keys(itemsBySupplier).forEach(supplier => {
                html += `
                    <div class="supplier-section mb-6">
                        <h3 class="text-lg font-semibold bg-gray-200 p-3 rounded-t-lg">${supplier}</h3>
                        <div class="border border-gray-300 rounded-b-lg max-h-80 overflow-y-auto">
                            <table class="w-full">
                                <thead class="bg-gray-100">
                                    <tr>
                                        <th class="text-left p-3 border-b">Produto</th>
                                        <th class="text-left p-3 border-b">Qtd. Atual</th>
                                        <th class="text-left p-3 border-b">Qtd. Pedida</th>
                                        <th class="text-left p-3 border-b">Ação</th>
                                    </tr>
                                </thead>
                                <tbody>
                `;
                
                itemsBySupplier[supplier].forEach(item => {
                    html += `
                        <tr class="border-b">
                            <td class="p-3">${item.name}</td>
                            <td class="p-3">${item.quantity}</td>
                            <td class="p-3">
                                <input type="number" class="w-20 px-2 py-1 border rounded" 
                                       placeholder="${item.quantity === 0 ? '' : 'Qtd.'}" 
                                       data-item-id="${item.id}">
                            </td>
                            <td class="p-3">
                                <button onclick="removeFromShoppingList('${item.id}')" 
                                        class="text-red-600 hover:text-red-800">Excluir</button>
                            </td>
                        </tr>
                    `;
                });
                
                html += `
                                </tbody>
                            </table>
                        </div>
                    </div>
                `;
            });
            
            html += `
                <div class="mt-6">
                    <button onclick="generateShoppingListPDF()" 
                            class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
                        Gerar PDF da Lista de Compras
                    </button>
                </div>
            `;
            
            reportArea.innerHTML = html;
        }

        window.generateShoppingListPDF = function() {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                // Agrupar itens por fornecedor
                const itemsBySupplier = {};
                appState.stockItems.forEach(item => {
                    if (!itemsBySupplier[item.supplier]) {
                        itemsBySupplier[item.supplier] = [];
                    }
                    itemsBySupplier[item.supplier].push(item);
                });
                
                let isFirstPage = true;
                
                Object.keys(itemsBySupplier).forEach(supplier => {
                    if (!isFirstPage) {
                        doc.addPage();
                    }
                    isFirstPage = false;
                    
                    // Cabeçalho da página
                    doc.setFontSize(18);
                    doc.text('Lista de Compras', 20, 20);
                    doc.setFontSize(14);
                    doc.text(`Fornecedor: ${supplier}`, 20, 35);
                    doc.setFontSize(12);
                    doc.text(`Data: ${new Date().toLocaleDateString('pt-BR')}`, 20, 45);
                    
                    // Cabeçalho da tabela
                    let yPosition = 65;
                    doc.setFontSize(10);
                    doc.text('Produto', 20, yPosition);
                    doc.text('Qtd. Atual', 100, yPosition);
                    doc.text('Qtd. Pedida', 140, yPosition);
                    
                    // Linha separadora
                    doc.line(20, yPosition + 5, 180, yPosition + 5);
                    yPosition += 15;
                    
                    // Itens do fornecedor
                    itemsBySupplier[supplier].forEach(item => {
                        if (yPosition > 270) {
                            doc.addPage();
                            yPosition = 20;
                        }
                        
                        doc.text(item.name, 20, yPosition);
                        doc.text(item.quantity.toString(), 100, yPosition);
                        doc.text('_______', 140, yPosition); // Campo para preenchimento manual
                        yPosition += 12;
                    });
                });
                
                doc.save('Lista_de_Compras_por_Fornecedor.pdf');
                showMessage('PDF da lista de compras gerado com sucesso!', 'success');
            } catch (error) {
                console.error('Erro ao gerar PDF:', error);
                showMessage('Erro ao gerar PDF. Tente novamente.', 'error');
            }
        };

        window.removeFromShoppingList = function(itemId) {
            // Remover item da lista visual
            const row = document.querySelector(`input[data-item-id="${itemId}"]`).closest('tr');
            if (row) {
                row.remove();
            }
        };

        function generateProductionReport(type) {
            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF();
                
                const title = type === 'kitchen' ? 'Produção Cozinha' : 'Produção Parrilla';
                const items = appState.productionItems;
                
                doc.setFontSize(18);
                doc.text(title, 20, 20);
                doc.setFontSize(12);
                doc.text(`Data: ${new Date().toLocaleDateString('pt-BR')}`, 20, 30);
                
                let yPosition = 50;
                
                items.forEach((item, index) => {
                    if (yPosition > 270) {
                        doc.addPage();
                        yPosition = 20;
                    }
                    
                    doc.text(`${index + 1}. ${item.name}`, 20, yPosition);
                    doc.text(`Quantidade: ${item.quantity}`, 30, yPosition + 10);
                    doc.text(`Fornecedor: ${item.supplier}`, 30, yPosition + 20);
                    yPosition += 35;
                });
                
                const filename = type === 'kitchen' ? 'producao_cozinha.pdf' : 'producao_parrilla.pdf';
                doc.save(filename);
                showMessage(`Relatório de ${title.toLowerCase()} gerado com sucesso!`, 'success');
            } catch (error) {
                console.error('Erro ao gerar relatório:', error);
                showMessage('Erro ao gerar relatório. Tente novamente.', 'error');
            }
        }

        // ===================================================================
        // 9. LISTENERS DE DADOS DO FIRESTORE
        // ===================================================================
        function setupDataListeners() {
            // Listener para itens de estoque
            onSnapshot(collection(db, 'stockItems'), (snapshot) => {
                appState.stockItems = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            });
            
            // Listener para itens de produção
            onSnapshot(collection(db, 'productionItems'), (snapshot) => {
                appState.productionItems = snapshot.docs.map(doc => ({
                    id: doc.id,
                    ...doc.data()
                }));
            });
        }

        // ===================================================================
        // 10. INICIALIZAÇÃO DA APLICAÇÃO
        // ===================================================================
        async function initApp() {
            // Verificar conectividade periodicamente
            setInterval(async () => {
                const isConnected = await checkConnectivity();
                updateConnectivityStatus(isConnected);
            }, 30000); // Verificar a cada 30 segundos
            
            const firebaseInitialized = await initializeFirebase();
            
            if (!firebaseInitialized) {
                showMessage('Falha ao conectar com o Firebase. Verifique sua conexão.', 'error');
                return;
            }

            // Event listeners
            document.getElementById('login-btn').addEventListener('click', handleLogin);
            document.getElementById('register-btn').addEventListener('click', handleRegister);
            document.getElementById('logout-btn').addEventListener('click', () => signOut(auth));
            document.getElementById('add-product-btn').addEventListener('click', addProduct);
            document.getElementById('generate-stock-report-btn').addEventListener('click', generateStockReport);
            document.getElementById('generate-shopping-list-btn').addEventListener('click', generateShoppingList);
            document.getElementById('generate-kitchen-report-btn').addEventListener('click', () => generateProductionReport('kitchen'));
            document.getElementById('generate-parrilla-report-btn').addEventListener('click', () => generateProductionReport('parrilla'));

            // Enter key para login
            document.getElementById('password').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    handleLogin();
                }
            });

            // Monitor de autenticação
            onAuthStateChanged(auth, (user) => {
                if (user) {
                    appState.user = user;
                    document.getElementById('user-email').textContent = user.email;
                    showScreen('main-screen');
                    setupDataListeners();
                } else {
                    appState.user = null;
                    showScreen('login-screen');
                }
            });
        }

        // Inicializar quando a página carregar
        document.addEventListener('DOMContentLoaded', initApp);
    </script>

    <style>
        .supplier-section {
            border: 1px solid #e5e7eb;
            border-radius: 8px;
            margin-bottom: 16px;
        }
        
        .supplier-section .max-h-80 {
            max-height: 20rem;
        }
        
        .supplier-section .overflow-y-auto::-webkit-scrollbar {
            width: 6px;
        }
        
        .supplier-section .overflow-y-auto::-webkit-scrollbar-track {
            background: #f1f1f1;
        }
        
        .supplier-section .overflow-y-auto::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }
        
        .supplier-section .overflow-y-auto::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
    </style>
</body>
</html>

